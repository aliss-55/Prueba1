#2205143 Alisson Tobar Ariza
#Scripts Primer Parcial-Evaluacion Practiva

#Instalamos el modulo PAM mod_authnz_pam de manera:

yum install mod_authnz_pam -y

#Configuramos el archivo 5-authnz_pam.conf

vim /etc/httpd/conf.modules.d/55-authnz_pam.conf

#Para descomentar la siguiente línea, para poder cargar el modulo

LoadModule authnz_pam_module modules/mod_authnz_pam.so

#Y reiniciamos el servicio httpd:

service httpd restart


#En el siguiente archivo
vim /etc/httpd/conf.d/authnz_pam.conf

#Agregamos el directorio "archivos_privados" de manera:

<Directory "/var/www/html/archivos_privados">
    AuthType Basic
    AuthName "archivos_privados"
    AuthUserFile /etc/httpd/claves
    Require valid-user
</Directory>

#Creamos la lista donde se encuentran los usuarios denegados llamada "deniedusers"
 vim /etc/ssh/deniedusers
#Y agregamos a los usuarios:
 juan
 root
#Nos salimos del archivo y le samos los permisos requeridos:
  chmod 600 /etc/ssh/deniedusers

#Ahora nos dirigimos a donde se encuentra el directorio y creamos .htaccess y le agregamos:

#Ahora editaremos la lista de usuarios denegados, donde escribiremos los usuarios que NO queremos que
#tengan acceso al directorio archivos_privados que creamos

vim /etc/httpd/conf.d/denyusers

#Nos dirigimos al directorio "archivos_privados y creamos el archivo .htaccess y le añadimos:
 ErrorDocument 401 /error401.html
















